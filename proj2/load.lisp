(defmacro def-class (class &rest fields)
  (let ((classname (if (atom class) class (first class)))
        (superclasses (if (atom class) nil (rest class))))
  (labels
    ((make-name (&rest names)
       (intern (format nil "狺钺礤螬┅磲脲脲黠蜾é蝈篝钺礤螬ㄩ铘弪ㄦ矧磲铋狺钺礤螬⑺刨紫夷┅ㄧ弭骈屐潴ㄣ灬篌戾è泔铙趄蹉麸颦钺礤磲脲钺礤⑼了怒沆狍螬┅ㄡ痧禊＇狃疱钿ㄧ弭泔铙趄蹉麸颦钺礤烘殄熹螬磲疸狎＇珏舡骈屐潴ㄧ弭泔铙趄蹉麸颦钺礤后躔弪┅┅ㄧ弭篚疱蜚灬篌骈屐潴篚疱蜚灬篌弩磲疸狎灬礅溽ㄣ灬篌啜沆狍ㄧ弭骈屐潴沆狍螬┅篚疱蜚灬篌弩┅ㄧ弭犰飙骈屐潴篚疱蜚灬篌弩蝈盹鲥漉痨殂狒弩ㄡ痧禊＇狃疱钿骈屐潴磲疸狎＇沅ㄧ弭篚疱蜚灬篌骈屐潴篚疱蜚灬篌弩┅┅ㄣ犰飙篚疱蜚灬篌泔铙趄蹉麸篚疱蜚灬篌疳蜥眢犰飙狎珞戾è泔铙趄蹉麸颦钺礤磲脲钺礤⑼了怒篚疱蜚灬篌┅ㄡ蜱ㄩ铘弪箦泗轱犰飙狎珞疳蜥眢┅啜泔铙趄蹉麸颦钺礤括狃痨＇狃疱钿磲疸狎灬礅溽ㄡ蜱扉篝磲脲脲黠蜾狎绌狎绌狎珞┅┅磲脲珏趑弪ㄦ殄熹戾è珏趑弪钺礤磲脲钺礤沆狍箢犴骈屐洎┅啜溴骢珏趑弪钺礤ㄡ蜱镳糸镱犰铄黯犰麒孱矧铒狎绌铒簌礅镬狎绌┅蝈趱蝾骝镯珏趑弪钺礤┅灬忮祗è骈钿骈屐镡汜瞽蝈趱蝾戾舄è骈屐潴ㄧ弭镡烘殄熹螬ㄦ殄熹ㄡ篌镢К骈屐骈屐潴┅ㄣ镱è铒镡戛铋飑è犷骈屐汜瞽蝈趱蝾骈屐洎ㄣ狎磲疸狎灬礅溽螬ㄦ轭洵骈屐矧汜瞽蝈趱蝾ㄥㄧ弭呼疱К沆狍箢犴濠┅ㄧ弭镡后躔弪┅┅┅┅戾è骈屐ㄦ轭洵骈屐狎ㄥㄧ弭狎呼疱К沆狍箢犴濠┅ㄩ铄黯犰箦翩ㄣ潋骈屐洎铄黯犰ㄣ潋骈屐洎┅┅┅磲脲箦趑弪ㄦ殄熹戾è箦趑弪钺礤磲脲钺礤沆狍箢犴骈屐洎┅啜溴骟弭箦趑弪钺礤箦趑弪钺礤┅┅戾舄è篚疱蜚灬篌骈屐洵疳轵ㄧ弭篚疱蜚灬篌骈屐潴篚疱蜚灬篌弩┅ㄡ祆骈屐潴蝈盹鲥漉痨殂狒弩ㄡ痧禊＇狃疱钿骈屐潴磲疸狎＇沅篚疱蜚灬篌骈屐洵疳轵螬┅ㄣ镱篝蝓泗矧钺礤磲脲钺礤⑼了怒沆狍箢犴濠痱邃殂狒瀛钺礤磲脲钺礤沆狍箢犴⒖┅啜痱镧括磲疸狎＇磲脲珏趑弪犰飙骈屐潴括磲疸狎＇磲脲箦趑弪犰飙骈屐潴ㄤ彐躅痱邃殂狒瀛钺礤ㄡ蜱ㄣ镱è铒狎绌铋飑è铒簌礅镬狎绌铋飑è羼ㄧ弭狎呼疱К沆狍箢犴濠舂箫礤＇殇孱糸豉磲疸狎＇痱邃殂狒瀛钺礤ㄧ弭狎后躔弪┅┅┅ㄤ彐躅泔铙趄蹉麸颦钺礤é脲泪祆骈屐潴戾è簌ㄧ孱簌愆篚疱麒孱篚疱蜚灬篌弩啜扉篝括磲疸狎灬礅溽疳轵ㄣ犰飙篚疱蜚灬篌泔铙趄蹉麸ㄣ狎疳轵ㄣ潋疳轵犰飙骈屐潴┅篚疱蜚灬篌骈屐洵疳轵螬┅┅箦翩ㄧ弭簌后躔弪篚疱颟箦翩ㄧ弭簌呼疱К沆狍箢犴濠箦翩ㄧ弭簌烘殄熹螬扉篝括磲疸狎灬礅溽ㄥ啜泔铙К濠骈屐潴┅簌愆箦翩ㄧ弭К泔铙趄蹉麸颦钺礤横蜱螬К犰飙骈屐潴箦翩ㄧ弭К泔铙趄蹉麸颦钺礤烘殄熹螬К骈屐潴箦翩ㄧ弭К泔铙趄蹉麸颦钺礤后躔弪К篚疱蜚灬篌弩铋飑┅┅花痧蜷铘磲泸镥疳钿啜溴姝沆狍疱蝮镱钺礤徵濠┅ㄤ彐沆狍疱蝮镱钺礤徵濠花痧蜷铘磲泸镥疳钿啜溴姝沆狍篝蹁孱疱蝮镱泔躜箦┅ㄤ彐沆狍篝蹁孱疱蝮镱泔躜箦花痧蜷铘磲泸镥疳钿啜溴姝沆狍箴矧趔磲徙糸鲩豉筱桢漉戾┅ㄤ彐沆狍箴矧趔磲徙糸鲩豉筱桢漉戾花痧蜷铘磲泸镥疳钿啜溴姝沆狍ㄩ篝篝蹁孱篝蹁孱箴矧趔磲瞟┅ㄤ彐沆狍ㄩ篝篝蹁孱篝蹁孱箴矧趔磲瞟ㄦ矧磲ア戾è磲脲疱蝮镱侯犴⑿狨祜横珏吵┅ㄢ⑸犴铒疱蝮镱┅痧蜷铘扉篝疱蝮镱岍疱蝮镱猢┅戾è磲脲篝蹁孱侯犴⑿狨膦横珏脖恒秕蝮⑸铈矧磲糸泱┅痧蜷铘扉篝篝蹁孱舡钺礤螬篝蹁孱舡泔躜箦螬┅戾è磲脲疱蝮镱侯犴⑹镨睥横珏炒┅磲脲篝蹁孱侯犴⑿狨膦横珏脖恒秕蝮⑸铈矧磲糸泱┅痧蜷铘扉篝疱蝮镱皓篝蹁孱艨皓疱蝮镱螬篝蹁孱艨螬┅戾è磲脲轶舡篝蹁孱侯犴⑼狎獒恒秕蝮⑸立横泗轹轸⒃孱铋螈┅痧蜷铘扉篝ㄩ篝篝蹁孱艨愆篝蹁孱艨愆箴矧趔磲羁愆ㄩ篝篝蹁孱舡钺礤愆疱蝮镱钺礤愆箴矧趔磲瞽徙糸鲩豉愆ㄩ篝篝蹁孱舡徙糸鲩豉愆┅